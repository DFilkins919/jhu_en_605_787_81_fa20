<!--
    Step 4 Option 1
    Copied contents of assignment2-starter-code into new folder
-->

<!doctype html>
<html lang="en">
  <head>
    <title>Shopping List Check Off</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles/bootstrap.min.css">
    <style>
      .emptyMessage {
        font-weight: bold;
        color: red;
        font-size: 1.2em;
      }
      li {
        margin-bottom: 7px;
        font-size: 1.2em;
      }
      li > button {
        margin-left: 6px;
      }
      button > span {
        color: green;
      }
    </style>
  </head>
  
<!--
    Step 6
    Declare ng-app on html or body element.
    Name app ShoppingListCheckOff
-->

<body ng-app="ShoppingListCheckOff">
  <div class="container">
  <h1>Shopping List Check Off</h1>

  <div class="row">


    <!--
        Step 8
        Declare 2 controllers using controller as syntax
        One controller should be called ToBuyControlelr and the other 
        AlreadyBoughtController
    -->

    <!-- To Buy List -->
    <div class="col-md-6" ng-controller="ToBuyController as toBuy">
     <h2>To Buy:</h2>
     <ul>
       <!--
            Step 11
            To loop over the items in either list use the ng-repeat directive.
       -->
       <li ng-repeat="item in toBuy.items">
         <!--
              JHU Additional Step 2b
              Next to each ‘To Buy’ item, display a small textbox that is bound 
              to the quantity property of that item.
         -->
         <input type="text" size="3" ng-model="item.quantity"> Buy {{item.quantity}} {{item.name}} 
         <button ng-click="toBuy.boughtItem($index);" class="btn btn-default"><span class="glyphicon glyphicon-ok"></span> Bought</button>
       </li>
     </ul>
     <!--
          Step 10
          To display and/or hide the messages when the list(s) are empty, use the ng-if directive.
      -->
     <div class="emptyMessage" ng-if="toBuy.isEverythingBought()">Everything is bought!</div>
    </div>

    <!-- Already Bought List -->
    <div class="col-md-6" ng-controller="AlreadyBoughtController as alreadyBought">
     <h2>Already Bought:</h2>
     <ul>
       <!--
            Step 11
            To loop over the items in either list use the ng-repeat directive.
       -->
       <li ng-repeat="item in alreadyBought.items">
         <!--
              JHU Additional Step 2c
              When the user clicks the ‘Buy’ button, the same behavior as in the 
              original assignment should occur with one difference. The 
              ‘Already Bought’ list should include the “newly bought” item but 
              state Bought item_quantity of item_name for total price of 
              total_price. So, for example, the bought item of 10 cookies at $2 
              as pricePerItem would display Bought 10 cookies for total price 
              of $$$20.00. The total price should NOT be part of the item 
              object, but should be calculated on the fly (and bound to the 
              template).
         -->
         Bought {{item.quantity}} {{item.name}} for total price of {{total_price = item.quantity * item.pricePerItem | custom}}
       </li>
     </ul>
     <!--
          Step 10
          To display and/or hide the messages when the list(s) are empty, use the ng-if directive.
      -->
     <div class="emptyMessage" ng-if="alreadyBought.isNothingBought()">Nothing bought yet.</div>
    </div>
  </div>
</div>

<!--
    Step 5
    Import AngularJS int your project and place <script> tag right before the 
    </body> tag
-->
<script src="js/angular.min.js"></script>
<script src="js/app.js"></script>

</body>
</html>